# Saino - دستیار شخصی هوشمند

**Saino** یک دستیار شخصی هوشمند و عامل‌محور (Agentic) است که با استفاده از آخرین تکنولوژی‌های پایتون و هوش مصنوعی ساخته شده است. این برنامه یک رابط کاربری مدرن و واکنش‌گرا را با یک مغز قدرتمند (Google Gemini)، حافظه بلندمدت (FAISS) و ابزارهای یکپارچه (جستجوی وب و پردازش فایل) ترکیب می‌کند.

این پروژه به صورت تک‌فایلی و با تمرکز بر خوانایی، پایداری و قابلیت توسعه طراحی شده است.

---

## ✨ قابلیت‌های کلیدی

- **🧠 هوش محاوره‌ای پیشرفته:** استفاده از مدل‌های قدرتمند سری Gemini برای پاسخ‌گویی دقیق و خلاقانه.
- **💾 حافظه دوگانه (کوتاه‌مدت و بلندمدت):** به خاطر سپردن پیام‌های اخیر و جستجوی معنایی در مکالمات قدیمی برای ارائه پاسخ‌های زمینه‌مند.
- **🌐 یکپارچه‌سازی با وب:** قابلیت جستجوی آنی در وب برای دسترسی به اطلاعات روز دنیا با استفاده از ابزار Tavily.
- **📂 پردازش فایل‌های متنوع:** قابلیت آپلود و تحلیل فایل‌های متنی (`.txt`, `.md`), داده (`.csv`, `.json`) و اسناد (`.pdf`).
- **🗒️ دفترچه یادداشت پیشرفته:** یک سیستم یادداشت‌برداری داخلی با قابلیت برچسب‌گذاری (Tags) و تنظیم یادآور (Reminder).
- **🛡️ معماری پایدار و مقاوم:** استفاده از الگوهای پیشرفته Asyncio مانند `asyncio.Queue` برای مدیریت پیام‌ها و جلوگیری از هرگونه `race condition`.
- **🎨 رابط کاربری قابل شخصی‌سازی:** امکان تغییر پس‌زمینه و ظاهر برنامه.
- **⚙️ مدیریت کامل داده‌ها:** قابلیت خلاصه‌سازی مکالمات و پاک‌سازی کامل دیتابیس با تایید دو مرحله‌ای.

---

## 🏛️ معماری برنامه

Saino از یک معماری ماژولار و مدرن استفاده می‌کند:

- **رابط کاربری (Frontend):** [Chainlit](https://docs.chainlit.io/)
- **منطق اصلی و بک‌اند:** Python (با استفاده از `asyncio` برای عملیات غیرهمزمان)
- **مدل زبانی بزرگ (LLM):** [Google Gemini API](https://ai.google.dev/)
- **پایگاه داده اصلی (Primary Database):** [MongoDB](https://www.mongodb.com/) (برای ذخیره مکالمات، یادداشت‌ها و کش)
- **حافظه معنایی (Vector Store):** [FAISS](https://faiss.ai/) (برای جستجوی معنایی در تاریخچه مکالمات)
- **ابزار جستجوی وب (Web Search Tool):** [Tavily API](https://tavily.com/)

---

## 🚀 راه‌اندازی و نصب

برای اجرای Saino به صورت محلی، مراحل زیر را دنبال کنید.

### ۱. پیش‌نیازها
- Python 3.9 یا بالاتر
- Git

### ۲. کلون کردن پروژه
```bash
git clone <URL_REPOSITORY_شما>
cd <NAMA_FOLDER_پروژه>
```

### ۳. ایجاد و فعال‌سازی محیط مجازی
توصیه می‌شود پروژه را در یک محیط مجازی اجرا کنید.

**در macOS/Linux:**
```bash
python3 -m venv venv
source venv/bin/activate
```

**در Windows:**
```bash
python -m venv venv
.\venv\Scripts\activate
```

### ۴. نصب وابستگی‌ها
تمام کتابخانه‌های مورد نیاز در فایل `requirements.txt` لیست شده‌اند.
```bash
pip install -r requirements.txt
```

### ۵. تنظیم متغیرهای محیطی
یک فایل به نام `.env` در ریشه پروژه بسازید و اطلاعات زیر را در آن کپی و تکمیل کنید.

```env
# کلید API از Google AI Studio
GEMINI_API_KEY="AIzaSy...YOUR_KEY"

# آدرس اتصال به دیتابیس MongoDB (محلی یا Atlas)
MONGO_URI="mongodb://...YOUR_CONNECTION_STRING"

# (اختیاری) کلید API از وب‌سایت Tavily برای فعال‌سازی جستجوی وب
TAVILY_API_KEY="tvly-...YOUR_KEY"
```

### ۶. شخصی‌سازی ظاهر (اختیاری)
برای تغییر پس‌زمینه:
1.  یک پوشه به نام `public` در ریشه پروژه بسازید.
2.  تصویر پس‌زمینه دلخواه خود را با نام `background.jpg` در این پوشه قرار دهید.
3.  یک فایل به نام `chainlit.md` در ریشه پروژه بسازید و محتوای زیر را در آن قرار دهید:
    ```markdown
    [chainlit]
    custom_css = "/public/custom.css"
    ```
4.  در پوشه `public`، یک فایل به نام `custom.css` با محتوای زیر بسازید:
    ```css
    .main-container {
        background-image: url('/public/background.jpg') !important;
        background-size: cover !important;
    }
    ```

### ۷. اجرای برنامه
اکنون می‌توانید برنامه را اجرا کنید:
```bash
chainlit run app.py -w
```
-   پرچم `-w` (watch) باعث می‌شود با هر تغییر در فایل `app.py`، برنامه به طور خودکار ری‌استارت شود.

---

## 🎛️ نحوه استفاده

- **نوار کناری (Sidebar):** برای مدیریت مکالمات و دسترسی به ابزارها از نوار کناری استفاده کنید.
  - **➕ مکالمه جدید:** یک چت جدید را شروع می‌کند.
  - **🗒️ یادداشت‌ها:** فرم پیشرفته برای افزودن یا مشاهده یادداشت‌ها را باز می‌کند.
  - **🌐 وب:** ابزار جستجوی وب را فعال می‌کند تا زمینه از اینترنت به پیام بعدی شما اضافه شود.
  - **✍️ خلاصه:** مکالمه فعلی را خلاصه‌سازی می‌کند.
  - **🗑️ پاک‌سازی:** تمام داده‌های شما را از دیتابیس حذف می‌کند.
- **آپلود فایل:** فایل‌های خود را مستقیماً در محیط چت بکشید و رها کنید (Drag & Drop) تا محتوای آن‌ها به عنوان زمینه به پیام شما اضافه شود.

---

## 🔧 فایل‌های اصلی پروژه

- **`app.py`:** تمام منطق برنامه در این فایل قرار دارد.
- **`requirements.txt`:** لیست تمام وابستگی‌های پایتون.
- **`.env`:** فایل محلی برای ذخیره متغیرهای محیطی (API Keys, DB URI).
- **`chainlit.md`:** فایل پیکربندی برای Chainlit (مانند فعال‌سازی CSS سفارشی).
- **`public/`:** پوشه‌ای برای فایل‌های استاتیک مانند تصاویر و CSS.
- **`saino_faiss_index.bin` / `saino_faiss_meta.json`:** فایل‌های ذخیره‌سازی حافظه بلندمدت (FAISS). این فایل‌ها به طور خودکار ساخته می‌شوند.
